import{A as t,a as s,h as a,b as i,o as e,c as o,w as l,g as d,i as r,e as n,d as h,k as p,r as u,F as c,n as g,j as f,v as m,l as y,H as _,p as v,f as x,t as b,m as k,S as w,I as C}from"./index-dd1a9fff.js";import{_ as j}from"./foot.97e24449.js";import{f as z,r as q}from"./fun.5d8ba00d.js";import{_ as E}from"./_plugin-vue_export-helper.1b428a4d.js";var F=d();const H=E({data:()=>({img:"",imglink:"",phsy:[0,0],hsxhx:"border-bottom: 1px #c00 solid;",gaodu:["height: 300rpx;",""],lists:[[{lits:[]}]],dwz:""}),onLoad(t){var s=this;z.apipost({route:"vod.v1/ranking",data:{key:t.key},method:"GET",hanshu:function(t){if(200==t.statusCode)if(0==t.data.code){t.data.img&&(s.img=t.data.img,s.imglink=t.data.imglink);for(var a=0;a<t.data.data[0].list[0].list.length;a++)t.data.data[0].list[0].list[a].num=0;s.lists=t.data.data}else z.toast(t.data.msg);else z.toast("请求出错，请稍后尝试")}})},onReady(){var s=t(),a=s.screenHeight-50-50-30-45,i=s.screenWidth/750,e=a/i-370*i;this.gaodu[0]="height: "+e+"rpx;",this.gaodu[1]="height: "+(e-70)+"rpx;"},methods:{imgto(){this.imglink&&("http://"!=this.imglink.substr(0,7)&&"https://"!=this.imglink.substr(0,8)?F.goto(this.imglink):location.href=this.imglink)},change(t){this.qiehuan(this.phsy[1]=t.detail.current)},qiehuan(){if(0==this.lists[this.phsy[0]].list[this.phsy[1]].list.length){s({title:"加载中",mask:!0,icon:"loading"});var t=this;z.apipost({route:"vod.v1/phb",data:{type:this.lists[this.phsy[0]].list[this.phsy[1]].type,order:this.phsy[0]},hanshu:function(s){if(a(),200==s.statusCode)if(0==s.data.code){for(var i=0;i<s.data.list.length;i++)s.data.list[i].num=0;t.lists[t.phsy[0]].list[t.phsy[1]].list=s.data.list}else z.toast(s.data.msg);else z.toast("请求出错，请稍后尝试"),console.log(s.data)}})}},imgerror(t){t.num<t.vod_pic.length-1?t.num++:t.vod_pic[t.num]="static/img/jzsb.png"},phsycss(t){return this.phsy[0]===t?"border-bottom: 1px #c00 solid;":"border-bottom: 0px;"},flsycss(t){return this.phsy[1]===t?"border-bottom: 1px #c00 solid;":"border-bottom: 0px;"},tovod(t){F.goto(t)},fenxiang(t){t.vod_id>0&&(""==this.dwz?(s({title:"加载中",mask:!0,icon:"loading"}),z.apipost({route:"vod.v1/dwz",data:{id:t.vod_id},hanshu:s=>{a(),200==s.statusCode?0==s.data.code?(this.dwz="🎥"+t.vod_name+"\n👉"+s.data.data[0].url,i({data:this.dwz,complete:t=>{}})):z.toast(s.data.msg):z.toast("访问数据失败！")}})):i({data:this.dwz,complete:t=>{}}))}}},[["render",function(t,s,a,i,d,z){const E=y,F=r,H=k,I=w,A=C,G=_,L=q(v("foot"),j);return e(),o(F,null,{default:l((()=>[""!=d.img?(e(),o(F,{key:0},{default:l((()=>[n(E,{onClick:s[0]||(s[0]=t=>z.imgto()),style:{height:"280rpx",width:"750rpx"},mode:"aspectFill",src:d.img,error:"imgerror"},null,8,["src"])])),_:1})):h("",!0),n(F,{style:{top:"210rpx",position:"absolute",padding:"10rpx",width:"750rpx","align-items":"center"}},{default:l((()=>[n(F,{style:{"flex-direction":"row",width:"600rpx","background-color":"rgba(244, 239, 239, 0.7)","border-top-left-radius":"20rpx","border-top-right-radius":"20rpx","justify-content":"space-between"}},{default:l((()=>[(e(!0),p(c,null,u(d.lists,((t,s)=>(e(),o(H,{class:"phb",style:g(z.phsycss(s)),onClick:t=>z.qiehuan(d.phsy[0]=s)},{default:l((()=>[x(b(t.name),1)])),_:2},1032,["style","onClick"])))),256))])),_:1})])),_:1}),n(F,null,{default:l((()=>[n(F,{class:"phtb"},{default:l((()=>[(e(!0),p(c,null,u(d.lists[d.phsy[0]].list,((t,s)=>(e(),o(H,{class:"pha",style:g(z.flsycss(s)),onClick:t=>z.qiehuan(d.phsy[1]=s)},{default:l((()=>[x(b(t.title),1)])),_:2},1032,["style","onClick"])))),256))])),_:1}),n(G,{current:d.phsy[1],style:g(d.gaodu[0]),onChange:z.change},{default:l((()=>[(e(!0),p(c,null,u(d.lists[d.phsy[0]].list,((t,s)=>(e(),o(A,null,{default:l((()=>[n(I,{"scroll-y":"true",style:g(d.gaodu[0])},{default:l((()=>[(e(!0),p(c,null,u(t.list,((t,s)=>(e(),o(F,{class:"list",style:{}},{default:l((()=>[n(F,{onClick:s=>z.tovod("/pages/vod/vod?vid="+t.vod_id)},{default:l((()=>[n(E,{src:t.vod_pic[t.num],onError:s=>z.imgerror(t),style:{"border-radius":"6px",height:"300rpx",width:"200rpx"}},null,8,["src","onError"])])),_:2},1032,["onClick"]),n(F,{style:{padding:"3px"}},{default:l((()=>[n(H,{style:{"margin-left":"10rpx"}},{default:l((()=>[x(b(t.vod_name)+" ",1),n(H,{class:"jiesao"},{default:l((()=>[x(b(t.vod_remarks),1)])),_:2},1024)])),_:2},1024),n(H,{class:"jiesao"},{default:l((()=>[x(" 别名："+b(""==t.vod_sub?"暂无":t.vod_sub),1)])),_:2},1024),n(H,{class:"jiesao"},{default:l((()=>[x(" 导演："+b(t.vod_director),1)])),_:2},1024),n(H,{class:"jiesao"},{default:l((()=>[x(" 主演："+b(t.vod_actor),1)])),_:2},1024),n(H,{class:"jiesao"},{default:l((()=>[x(" 类别："+b(t.vod_class),1)])),_:2},1024),n(H,{class:"jiesao"},{default:l((()=>[x(" 地区："+b(t.vod_area)+" / 年代："+b(t.vod_year),1)])),_:2},1024),n(F,{style:{"flex-direction":"row","justify-content":"space-between",width:"500rpx","padding-top":"6rpx","padding-left":"6rpx"}},{default:l((()=>[n(H,{style:{"background-color":"#ff8b00"},class:"button",onClick:s=>z.tovod("/pages/player/player?vid="+t.vod_id+"&from=&sid=0")},{default:l((()=>[x(" 立即播放 ")])),_:2},1032,["onClick"]),n(H,{class:"button",onClick:s=>z.fenxiang(t)},{default:l((()=>[x(" 复制分享 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:2},1032,["style"])])),_:2},1024)))),256))])),_:1},8,["current","style","onChange"])])),_:1}),f(n(L,null,null,512),[[m,d.img]])])),_:1})}],["__scopeId","data-v-4efde503"]]);export{H as default};
